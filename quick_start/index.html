
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../installation/">
      
      
        <link rel="next" href="../web_application/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Quick Start - LLM-IE Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#choose-an-llm-inference-engine" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="LLM-IE Documentation" class="md-header__button md-logo" aria-label="LLM-IE Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LLM-IE Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Quick Start
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/daviden1013/llm-ie" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    daviden1013/llm-ie
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="LLM-IE Documentation" class="md-nav__button md-logo" aria-label="LLM-IE Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    LLM-IE Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/daviden1013/llm-ie" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    daviden1013/llm-ie
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#choose-an-llm-inference-engine" class="md-nav__link">
    <span class="md-ellipsis">
      Choose an LLM inference engine
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prompt-engineering-by-chatting-with-llm-agent" class="md-nav__link">
    <span class="md-ellipsis">
      Prompt engineering by chatting with LLM agent
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-prompting-algorithm-for-information-extraction" class="md-nav__link">
    <span class="md-ellipsis">
      Design prompting algorithm for information extraction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-management-and-visualization" class="md-nav__link">
    <span class="md-ellipsis">
      Data management and visualization
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../web_application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web Application
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../llm_config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../llm_inference_engine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM Inference Engine
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prompt_templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prompt Templates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prompt_editor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prompt Editor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../extractors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extractors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../visualization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Visualization
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/llm_config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/llm_inference_engine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM Inference Engine
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/extractors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extractors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/chunkers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chunkers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/prompt_editor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prompt Editor
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#choose-an-llm-inference-engine" class="md-nav__link">
    <span class="md-ellipsis">
      Choose an LLM inference engine
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prompt-engineering-by-chatting-with-llm-agent" class="md-nav__link">
    <span class="md-ellipsis">
      Prompt engineering by chatting with LLM agent
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-prompting-algorithm-for-information-extraction" class="md-nav__link">
    <span class="md-ellipsis">
      Design prompting algorithm for information extraction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-management-and-visualization" class="md-nav__link">
    <span class="md-ellipsis">
      Data management and visualization
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Quick Start</h1>

<p>We use a synthesized medical note by ChatGPT to demo the information extraction process. Our task is to extract diagnosis names, spans, and corresponding attributes (i.e., diagnosis datetime, status).</p>
<details>
<summary>Synthesized Clinical Note</summary>

<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>### Discharge Summary Note
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>**Patient Name:** John Doe  
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>**Medical Record Number:** 12345678  
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>**Date of Birth:** January 15, 1975  
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>**Date of Admission:** July 20, 2024  
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>**Date of Discharge:** July 27, 2024  
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>**Attending Physician:** Dr. Jane Smith, MD  
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>**Consulting Physicians:** Dr. Emily Brown, MD (Cardiology), Dr. Michael Green, MD (Pulmonology)
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>#### Reason for Admission
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>John Doe, a 49-year-old male, was admitted to the hospital with complaints of chest pain, shortness of breath, and dizziness. The patient has a history of hypertension, hyperlipidemia, and Type 2 diabetes mellitus.
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>#### History of Present Illness
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>The patient reported that the chest pain started two days prior to admission. The pain was described as a pressure-like sensation in the central chest, radiating to the left arm and jaw. He also experienced dyspnea on exertion and occasional palpitations. The patient denied any recent upper respiratory infection, cough, or fever.
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>#### Past Medical History
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>- Hypertension (diagnosed in 2010)
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>- Hyperlipidemia (diagnosed in 2015)
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>- Type 2 Diabetes Mellitus (diagnosed in 2018)
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>#### Social History
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>- Former smoker (quit in 2010)
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>- Occasional alcohol consumption
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>- Works as an accountant
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>- Married with two children
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>#### Family History
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>- Father: myocardial infarction at age 55
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>- Mother: Type 2 diabetes mellitus
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>#### Physical Examination
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>- **Vital Signs:** Blood pressure 160/95 mmHg, heart rate 88 bpm, respiratory rate 20 breaths/min, temperature 98.6°F, oxygen saturation 96% on room air.
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>- **General:** Alert and oriented, in mild distress.
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>- **Cardiovascular:** Regular rhythm, no murmurs, rubs, or gallops. Jugular venous pressure not elevated.
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>- **Respiratory:** Clear to auscultation bilaterally, no wheezes, rales, or rhonchi.
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>- **Abdomen:** Soft, non-tender, no hepatosplenomegaly.
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a>- **Extremities:** No edema, pulses 2+ bilaterally.
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a>#### Laboratory and Diagnostic Tests
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a>- **EKG:** ST-segment depression in leads V4-V6.
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a>- **Troponin I:** Elevated at 0.15 ng/mL (normal &lt;0.04 ng/mL).
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a>- **Chest X-ray:** No acute infiltrates, normal cardiac silhouette.
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a>- **Echocardiogram:** Mild left ventricular hypertrophy, ejection fraction 55%.
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a>- **CBC:** WBC 8.5 x 10^3/uL, Hgb 13.5 g/dL, Platelets 250 x 10^3/uL.
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a>- **CMP:** Na 138 mmol/L, K 4.0 mmol/L, BUN 15 mg/dL, Creatinine 0.9 mg/dL, Glucose 180 mg/dL, HbA1c 7.8%.
<a id="__codelineno-0-48" name="__codelineno-0-48" href="#__codelineno-0-48"></a>
<a id="__codelineno-0-49" name="__codelineno-0-49" href="#__codelineno-0-49"></a>#### Hospital Course
<a id="__codelineno-0-50" name="__codelineno-0-50" href="#__codelineno-0-50"></a>John Doe was diagnosed with acute coronary syndrome (ACS). He was started on dual antiplatelet therapy with aspirin and clopidogrel, along with high-dose atorvastatin, and a beta-blocker. A cardiology consultation was obtained, and the patient underwent coronary angiography, which revealed a 70% stenosis in the left anterior descending artery. A drug-eluting stent was placed successfully.
<a id="__codelineno-0-51" name="__codelineno-0-51" href="#__codelineno-0-51"></a>
<a id="__codelineno-0-52" name="__codelineno-0-52" href="#__codelineno-0-52"></a>Post-procedure, the patient was monitored in the coronary care unit. He remained hemodynamically stable, with no recurrent chest pain. He was gradually advanced to a regular cardiac diet and was ambulating without difficulty by day three of hospitalization. Diabetes management was optimized with the addition of metformin, and his blood pressure was controlled with the continuation of his antihypertensive regimen.
<a id="__codelineno-0-53" name="__codelineno-0-53" href="#__codelineno-0-53"></a>
<a id="__codelineno-0-54" name="__codelineno-0-54" href="#__codelineno-0-54"></a>#### Discharge Medications
<a id="__codelineno-0-55" name="__codelineno-0-55" href="#__codelineno-0-55"></a>- Aspirin 81 mg daily
<a id="__codelineno-0-56" name="__codelineno-0-56" href="#__codelineno-0-56"></a>- Clopidogrel 75 mg daily
<a id="__codelineno-0-57" name="__codelineno-0-57" href="#__codelineno-0-57"></a>- Atorvastatin 40 mg daily
<a id="__codelineno-0-58" name="__codelineno-0-58" href="#__codelineno-0-58"></a>- Metoprolol 50 mg twice daily
<a id="__codelineno-0-59" name="__codelineno-0-59" href="#__codelineno-0-59"></a>- Lisinopril 20 mg daily
<a id="__codelineno-0-60" name="__codelineno-0-60" href="#__codelineno-0-60"></a>- Metformin 1000 mg twice daily
<a id="__codelineno-0-61" name="__codelineno-0-61" href="#__codelineno-0-61"></a>
<a id="__codelineno-0-62" name="__codelineno-0-62" href="#__codelineno-0-62"></a>#### Discharge Instructions
<a id="__codelineno-0-63" name="__codelineno-0-63" href="#__codelineno-0-63"></a>John Doe was advised to follow a heart-healthy diet, engage in regular physical activity, and monitor his blood glucose levels. He was instructed to avoid smoking and limit alcohol intake. Follow-up appointments were scheduled with his primary care physician, cardiologist, and endocrinologist.
<a id="__codelineno-0-64" name="__codelineno-0-64" href="#__codelineno-0-64"></a>
<a id="__codelineno-0-65" name="__codelineno-0-65" href="#__codelineno-0-65"></a>The patient was educated on the signs and symptoms of recurrent chest pain and instructed to seek immediate medical attention if they occur. He was provided with a prescription for a nitroglycerin tablet to use as needed for chest pain.
<a id="__codelineno-0-66" name="__codelineno-0-66" href="#__codelineno-0-66"></a>
<a id="__codelineno-0-67" name="__codelineno-0-67" href="#__codelineno-0-67"></a>#### Follow-Up Appointments
<a id="__codelineno-0-68" name="__codelineno-0-68" href="#__codelineno-0-68"></a>- Primary Care Physician: August 3, 2024
<a id="__codelineno-0-69" name="__codelineno-0-69" href="#__codelineno-0-69"></a>- Cardiology: August 10, 2024
<a id="__codelineno-0-70" name="__codelineno-0-70" href="#__codelineno-0-70"></a>- Endocrinology: August 17, 2024
<a id="__codelineno-0-71" name="__codelineno-0-71" href="#__codelineno-0-71"></a>
<a id="__codelineno-0-72" name="__codelineno-0-72" href="#__codelineno-0-72"></a>**Discharge Summary Prepared by:**  
<a id="__codelineno-0-73" name="__codelineno-0-73" href="#__codelineno-0-73"></a>Dr. Jane Smith, MD  
<a id="__codelineno-0-74" name="__codelineno-0-74" href="#__codelineno-0-74"></a>July 27, 2024
</code></pre></div>

</details>

<h3 id="choose-an-llm-inference-engine">Choose an LLM inference engine</h3>
<p><em>LLM-IE</em> works with both <strong>local</strong> and <strong>remote</strong> LLM deployments. In this quick start demo, we use OpenRouter to run <a href="https://huggingface.co/meta-llama/Llama-4-Scout-17B-16E">Llama-4-Scout</a> for prompt engineering and <a href="https://huggingface.co/meta-llama/Llama-3.1-70B-Instruct">Llama-3.1-70B-Instruct</a> for entity and attribute extraction.
The outputs might be slightly different with other inference engines, LLMs, or quantization. To use other inference engines (e.g., Ollama, Huggingface Hub) and models (e.g., GPT-4o, Qwen3), see <a href="../llm_inference_engine/">LLM Inference Engine</a> and <a href="../llm_config/">LLM Configuration</a>.</p>
<h3 id="prompt-engineering-by-chatting-with-llm-agent">Prompt engineering by chatting with LLM agent</h3>
<p>We start with defining prompt editor LLM agent. We store OpenRouter API key in environmental variable <code>OPENROUTER_API_KEY</code>.
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">OPENROUTER_API_KEY</span><span class="o">=</span>&lt;OpenRouter<span class="w"> </span>API<span class="w"> </span>key&gt;
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kn">from</span> <span class="nn">llm_ie</span> <span class="kn">import</span> <span class="n">OpenAIInferenceEngine</span><span class="p">,</span> <span class="n">BasicLLMConfig</span><span class="p">,</span> <span class="n">DirectFrameExtractor</span><span class="p">,</span> <span class="n">PromptEditor</span><span class="p">,</span> <span class="n">SentenceUnitChunker</span><span class="p">,</span> <span class="n">SlideWindowContextChunker</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="c1"># Define a LLM inference engine for the prompt editor</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="n">prompt_editor_llm</span> <span class="o">=</span> <span class="n">OpenAIInferenceEngine</span><span class="p">(</span><span class="n">base_url</span><span class="o">=</span><span class="s2">&quot;https://openrouter.ai/api/v1&quot;</span><span class="p">,</span> 
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>                                          <span class="n">model</span><span class="o">=</span><span class="s2">&quot;meta-llama/llama-4-scout&quot;</span><span class="p">,</span> 
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>                                          <span class="n">api_key</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;OPENROUTER_API_KEY&quot;</span><span class="p">),</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>                                          <span class="n">config</span><span class="o">=</span><span class="n">BasicLLMConfig</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> 
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>                                                                <span class="n">max_new_tokens</span><span class="o">=</span><span class="mi">4096</span><span class="p">))</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="c1"># Define LLM prompt editor</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="n">editor</span> <span class="o">=</span> <span class="n">PromptEditor</span><span class="p">(</span><span class="n">prompt_editor_llm</span><span class="p">,</span> <span class="n">DirectFrameExtractor</span><span class="p">)</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="c1"># Start chat</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="n">editor</span><span class="o">.</span><span class="n">chat</span><span class="p">()</span>
</code></pre></div>
<p>This opens an interactive session where we can chat with the <a href="../prompt_editor/">Prompt Editor</a> agent:
<img alt="chat in terminal" src="../readme_img/terminal_chat.PNG" /></p>
<p>The agent drafts a <a href="../prompt_templates/">prompt template</a> following the schema required by the <code>DirectFrameExtractor</code>.
After a few rounds of chatting, we have a prompt template to start with:
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>### Task description
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>The paragraph below contains a clinical note with diagnoses listed. Please carefully review it and extract the diagnoses, including the diagnosis date and status.
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>### Schema definition
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>Your output should contain: 
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>    &quot;entity_text&quot; which is the diagnosis spelled as it appears in the text,
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>    &quot;Date&quot; which is the date when the diagnosis was made,
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>    &quot;Status&quot; which is the current status of the diagnosis (e.g. active, resolved, etc.)
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>### Output format definition
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>Your output should follow JSON format, for example:
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>[
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>    {&quot;entity_text&quot;: &quot;&lt;Diagnosis&gt;&quot;, &quot;attr&quot;: {&quot;Date&quot;: &quot;&lt;date in YYYY-MM-DD format&gt;&quot;, &quot;Status&quot;: &quot;&lt;status&gt;&quot;}},
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>    {&quot;entity_text&quot;: &quot;&lt;Diagnosis&gt;&quot;, &quot;attr&quot;: {&quot;Date&quot;: &quot;&lt;date in YYYY-MM-DD format&gt;&quot;, &quot;Status&quot;: &quot;&lt;status&gt;&quot;}}
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>]
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>### Additional hints
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>- Your output should be 100% based on the provided content. DO NOT output fake information.
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>- If there is no specific date or status, just omit those keys.
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>### Context
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>The text below is from the clinical note:
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>&quot;{{input}}&quot;
</code></pre></div></p>
<h3 id="design-prompting-algorithm-for-information-extraction">Design prompting algorithm for information extraction</h3>
<p>Instead of prompting LLMs with the entire document (which, by our experiments, has worse performance), we divide the input document into units (e.g., sentences, text lines, paragraphs). LLM only focus on one unit at a time, before moving to the next unit. This is achieved by the <code>UnitChunker</code> classes. In this demo, we use <code>SentenceUnitChunker</code> for sentence-by-sentence prompting. LLM only focus on one sentence at a time. We supply a context, in this case, a slide window of 2 sentences as context. This provides LLM with additional information. This is achieved by the <code>SlideWindowContextChunker</code> class. To learn more about prompting algorithm, see <a href="../extractors/">Extractors</a>. For information extraction, we use a smaller LLM, llama-3.1-70b-instruct for lower cost. We set <code>temperature = 0.0</code> to improve output stability and reproducibility. </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># Load synthesized medical note</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./demo/document/synthesized_note.txt&quot;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    <span class="n">note_text</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="c1"># Define a LLM inference engine for the extractor</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="n">extractor_llm</span> <span class="o">=</span> <span class="n">OpenAIInferenceEngine</span><span class="p">(</span><span class="n">base_url</span><span class="o">=</span><span class="s2">&quot;https://openrouter.ai/api/v1&quot;</span><span class="p">,</span> 
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>                                      <span class="n">model</span><span class="o">=</span><span class="s2">&quot;meta-llama/llama-3.1-70b-instruct&quot;</span><span class="p">,</span> 
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>                                      <span class="n">api_key</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;OPENROUTER_API_KEY&quot;</span><span class="p">),</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>                                      <span class="n">config</span><span class="o">=</span><span class="n">BasicLLMConfig</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> 
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>                                                            <span class="n">max_new_tokens</span><span class="o">=</span><span class="mi">1024</span><span class="p">))</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="c1"># Define unit chunker. Prompts sentences-by-sentence.</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="n">unit_chunker</span> <span class="o">=</span> <span class="n">SentenceUnitChunker</span><span class="p">()</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="c1"># Define context chunker. Provides context for units.</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="n">context_chunker</span> <span class="o">=</span> <span class="n">SlideWindowContextChunker</span><span class="p">(</span><span class="n">window_size</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="c1"># Define extractor</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="n">extractor</span> <span class="o">=</span> <span class="n">DirectFrameExtractor</span><span class="p">(</span><span class="n">inference_engine</span><span class="o">=</span><span class="n">extractor_llm</span><span class="p">,</span> 
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>                                 <span class="n">unit_chunker</span><span class="o">=</span><span class="n">unit_chunker</span><span class="p">,</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>                                 <span class="n">context_chunker</span><span class="o">=</span><span class="n">context_chunker</span><span class="p">,</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>                                 <span class="n">prompt_template</span><span class="o">=</span><span class="n">prompt_template</span><span class="p">)</span>
</code></pre></div>
<p>To run the frame extraction, use <code>extract_frames</code> method. A list of entities with attributes ("frames") will be returned. Concurrent processing is supported by setting <code>concurrent=True</code>.
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># To stream the extraction process, use concurrent=False, stream=True:</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">frames</span> <span class="o">=</span>  <span class="n">extractor</span><span class="o">.</span><span class="n">extract_frames</span><span class="p">(</span><span class="n">note_text</span><span class="p">,</span> <span class="n">concurrent</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="c1"># For faster extraction, use concurrent=True to enable asynchronous prompting</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1"># frames =  extractor.extract_frames(note_text, concurrent=True)</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="c1"># Check extractions</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">frames</span><span class="p">:</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>    <span class="nb">print</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
</code></pre></div>
The output is a list of frames. Each frame has a <code>entity_text</code>, <code>start</code>, <code>end</code>, and a dictionary of <code>attr</code>. </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">537</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">549</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;hypertension&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Status&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}}</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">551</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">565</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;hyperlipidemia&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Status&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}}</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">571</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">595</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;Type 2 diabetes mellitus&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Status&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}}</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">991</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">1003</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;Hypertension&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Date&#39;</span><span class="p">:</span> <span class="s1">&#39;2010&#39;</span><span class="p">,</span> <span class="s1">&#39;Status&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}}</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">1026</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">1040</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;Hyperlipidemia&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Date&#39;</span><span class="p">:</span> <span class="s1">&#39;2015&#39;</span><span class="p">,</span> <span class="s1">&#39;Status&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}}</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">1063</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">1087</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;Type 2 Diabetes Mellitus&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Date&#39;</span><span class="p">:</span> <span class="s1">&#39;2018&#39;</span><span class="p">,</span> <span class="s1">&#39;Status&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}}</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">1646</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">1682</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;Jugular venous pressure not elevated&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{}}</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;7&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">1703</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">1767</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;Clear to auscultation bilaterally, no wheezes, rales, or rhonchi&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{}}</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;8&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">1802</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">1823</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;no hepatosplenomegaly&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{}}</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;9&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">1926</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">1962</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;ST-segment depression in leads V4-V6&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{}}</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;10&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">1982</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">2004</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;Elevated at 0.15 ng/mL&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Date&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Status&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}}</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;11&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">2046</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">2066</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;No acute infiltrates&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{}}</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;12&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">2068</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">2093</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;normal cardiac silhouette&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{}}</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;13&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">2117</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">2150</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;Mild left ventricular hypertrophy&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Date&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Status&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}}</span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;14&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">2321</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">2338</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;Glucose 180 mg/dL&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{}}</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;15&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">2340</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">2350</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;HbA1c 7.8%&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{}}</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;16&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">2402</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">2431</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;acute coronary syndrome (ACS)&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Date&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;Status&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}}</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;17&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">3025</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">3033</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;Diabetes&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{}}</span>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="p">{</span><span class="s1">&#39;frame_id&#39;</span><span class="p">:</span> <span class="s1">&#39;18&#39;</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">3925</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">3935</span><span class="p">,</span> <span class="s1">&#39;entity_text&#39;</span><span class="p">:</span> <span class="s1">&#39;chest pain&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Date&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Status&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}}</span>
</code></pre></div>
<h3 id="data-management-and-visualization">Data management and visualization</h3>
<p>We can save the frames to a document object for better management. The document holds <code>text</code> and <code>frames</code>. The <code>add_frame()</code> method performs validation and (if passed) adds a frame to the document.
The <code>valid_mode</code> controls how frame validation should be performed. For example, the <code>valid_mode = "span"</code> will prevent new frames from being added if the frame spans (<code>start</code>, <code>end</code>) has already exist. The <code>create_id = True</code> allows the document to assign unique frame IDs.  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kn">from</span> <span class="nn">llm_ie.data_types</span> <span class="kn">import</span> <span class="n">LLMInformationExtractionDocument</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="c1"># Define document</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="n">doc</span> <span class="o">=</span> <span class="n">LLMInformationExtractionDocument</span><span class="p">(</span><span class="n">doc_id</span><span class="o">=</span><span class="s2">&quot;Synthesized medical note&quot;</span><span class="p">,</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>                                       <span class="n">text</span><span class="o">=</span><span class="n">note_text</span><span class="p">)</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="c1"># Add frames to a document</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="n">doc</span><span class="o">.</span><span class="n">add_frames</span><span class="p">(</span><span class="n">frames</span><span class="p">,</span> <span class="n">create_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="c1"># Save document to file (.llmie)</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="n">doc</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;&lt;your filename&gt;.llmie&quot;</span><span class="p">)</span>
</code></pre></div>
<p>To visualize the extracted frames, we use the <code>viz_serve()</code> method. 
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">doc</span><span class="o">.</span><span class="n">viz_serve</span><span class="p">()</span>
</code></pre></div>
A Flask App starts at port 5000 (default). To learn more about visualization, see <a href="../visualization/">Visualization</a>.</p>
<p><img alt="llm-ie demo" src="../readme_img/llm-ie_demo.PNG" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>